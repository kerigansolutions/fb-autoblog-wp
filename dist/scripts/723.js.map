{"version":3,"file":"scripts/723.js","mappings":"sFAIAA,EAAQ,EAAU,CAACC,EAAKC,KACpB,MAAMC,EAASF,EAAIG,WAAaH,EAChC,IAAK,MAAOI,EAAKC,KAAQJ,EACrBC,EAAOE,GAAOC,EAElB,OAAOH,CAAM,C,yFCPmBI,MAAM,+C,iBAO5BA,MAAM,qB,GACRA,MAAM,yB,GACZC,EAAAA,EAAAA,GAAuM,UAA/LD,MAAM,0KAA0K,UAAM,G,GAE3LA,MAAM,QAWf,OACEE,KAAM,eAENC,KAHa,WAIX,MAAO,CACLC,iBAAaC,EACbC,iCAA6BD,EAC7BE,eAAWF,EACXG,iBAAaH,EACbI,mBAAeJ,EACfK,YAAQL,EACRM,YAAQN,EACRO,oBAAgBP,EAChBQ,WAAY,GAEf,EAEDC,QAAS,CACPC,eADO,SACSC,GAAU,WACxBC,SAASC,eAAe,eAAeC,MAAQH,EAASI,GAExDC,MAAM,oDAAsDL,EAASM,aAAc,CACjFC,OAAQ,MACRC,KAAM,OACNC,MAAO,WACPC,QAAS,CACP,eAAgB,sBAGjBC,MAAK,SAAAC,GAAA,OAAKA,EAAEC,MAAP,IACLF,MAAK,SAACG,GACLC,QAAQC,IAAIF,GACZ,EAAKlB,eAAiBkB,EAAIR,aAC1BL,SAASC,eAAe,iBAAiBC,MAAQW,EAAIR,YACtD,IAEHW,KAAKpB,WAAa,EACnB,EAEDqB,UAtBO,WAuBL,IAAIC,EAAOF,KAEXG,GAAGC,OAAM,SAAUC,GACjBH,EAAK/B,YAAckC,EAASC,aAAanC,YACzC+B,EAAK7B,4BAA8BgC,EAASC,aAAajC,4BACzD6B,EAAK5B,UAAY+B,EAASC,aAAahC,UACvC4B,EAAK3B,YAAc8B,EAASC,aAAa/B,YACzC2B,EAAK1B,cAAgB6B,EAASC,aAAa9B,cAC3C0B,EAAKzB,OAAS4B,EAASC,aAAa7B,OACpCyB,EAAKxB,OAAS2B,EAAS3B,OAEvByB,GAAGI,IAAI,IAAML,EAAKzB,OAAS,aAAa,SAAU4B,GAChDP,QAAQC,IAAIM,GACZH,EAAKtB,WAAayB,EAASnC,IAC5B,GAEF,GAAE,CACDsC,MAAO,wGAEX,IC9EJ,MAAMC,GAA2B,E,OAAA,GAAgB,EAAQ,CAAC,CAAC,S,wCDJzDC,EAAAA,EAAAA,IAoBM,YAnBKC,EAAAA,WAAWC,OAAM,eAA1BF,EAAAA,EAAAA,IAAgI,IAAhI,EAAoF,8CAApF,iBAmBI,aAlBJA,EAAAA,EAAAA,IASMG,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAReH,EAAAA,YAAU,SAAtB5B,G,kBADT2B,EAAAA,EAAAA,IASM,OAPH7C,IAAKkB,EAASgC,MACfhD,MAAM,mHACLiD,SAAK,4BAAUC,EAAAA,eAAelC,EAAzB,GAAiC,cAJzC,EAMEf,EAAAA,EAAAA,GAA8D,SAA9D,GAA8DkD,EAAAA,EAAAA,IAAzBnC,EAASd,MAAI,IAClDD,EAAAA,EAAAA,GAA8D,OAA9D,GAA8DkD,EAAAA,EAAAA,IAArBnC,EAASI,IAAE,GACpDgC,GARF,I,IAAA,OAUAnD,EAAAA,EAAAA,GAOM,MAPN,EAOM,EANJA,EAAAA,EAAAA,GAKS,UAJNgD,QAAK,wCAAUC,EAAAA,WAAAA,EAAAA,UAAAA,MAAAA,EAAAA,UAAV,GAAmB,cACzBlD,MAAM,6GAFR,EAIEqD,EAAAA,EAAAA,IAAQC,EAAAA,OAAA,gB,KCXhB,O","sources":["webpack:///./node_modules/vue-loader/dist/exportHelper.js","webpack:///./resources/scripts/components/FacebookAuth.vue","webpack:///./resources/scripts/components/FacebookAuth.vue?6cca"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","<template>\n  <div>\n    <p v-if=\"businesses.length > 0\" class=\"text-gray-400 text uppercase font-bold mb-2\">Select a Facebook Business Page To Sync:</p>\n    <div\n      v-for=\"business in businesses\"\n      :key=\"business.index\"\n      class=\"p-2 bg-gray-200 rounded flex items-center mb-1 border border-gray-300 group group-hover:bg-accent cursor-pointer\"\n      @click.prevent=\"selectBusiness(business)\"\n    >\n      <strong class=\"text-primary px-4\">{{ business.name }}</strong>\n      <span class=\"text-sm text-gray-800\" > {{ business.id }}</span>\n      <button class=\"px-3 py-1 ml-auto leading-none h-8 border-2 uppercase rounded text-primary border-primary group-hover:bg-primary group-hover:text-white group-hover:border-transparent\" >select</button>\n    </div>\n    <div class=\"flex\" >\n      <button\n        @click.prevent=\"authorize\"\n        class=\"form-button bg-accent hover:bg-white border-2 border-transparent hover:border-accent text-primary rounded\"\n      >\n        <slot />\n      </button>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"FacebookAuth\",\n\n  data() {\n    return {\n      accessToken: undefined,\n      data_access_expiration_time: undefined,\n      expiresIn: undefined,\n      graphDomain: undefined,\n      signedRequest: undefined,\n      userID: undefined,\n      status: undefined,\n      longLivedToken: undefined,\n      businesses: []\n    }\n  },\n\n  methods: {\n    selectBusiness (business) {\n      document.getElementById('fbcompanyid').value = business.id;\n\n      fetch(\"/wp-json/kerigansolutions/v1/autoblogtoken?token=\" + business.access_token, {\n        method: 'GET',\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n        .then(r => r.json())\n        .then((res) => {\n          console.log(res)\n          this.longLivedToken = res.access_token;\n          document.getElementById('facebooktoken').value = res.access_token;\n        })\n\n      this.businesses = []\n    },\n\n    authorize () {\n      let auth = this\n\n      FB.login(function (response) {\n        auth.accessToken = response.authResponse.accessToken\n        auth.data_access_expiration_time = response.authResponse.data_access_expiration_time\n        auth.expiresIn = response.authResponse.expiresIn\n        auth.graphDomain = response.authResponse.graphDomain\n        auth.signedRequest = response.authResponse.signedRequest\n        auth.userID = response.authResponse.userID,\n        auth.status = response.status\n\n        FB.api('/' + auth.userID + '/accounts', function (response) {\n          console.log(response)\n          auth.businesses = response.data\n        })\n\n      }, {\n        scope: 'pages_show_list, pages_read_engagement, pages_read_user_content, public_profile, business_management'\n      });\n    }\n  }\n}\n</script>\n","import { render } from \"./FacebookAuth.vue?vue&type=template&id=1737ef88\"\nimport script from \"./FacebookAuth.vue?vue&type=script&lang=js\"\nexport * from \"./FacebookAuth.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\dev\\\\modules\\\\fb-autoblog-wp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","class","_createElementVNode","name","data","accessToken","undefined","data_access_expiration_time","expiresIn","graphDomain","signedRequest","userID","status","longLivedToken","businesses","methods","selectBusiness","business","document","getElementById","value","id","fetch","access_token","method","mode","cache","headers","then","r","json","res","console","log","this","authorize","auth","FB","login","response","authResponse","api","scope","__exports__","_createElementBlock","$data","length","_Fragment","_renderList","index","onClick","$options","_toDisplayString","_hoisted_5","_renderSlot","_ctx"],"sourceRoot":""}